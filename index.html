<html>
<head>
    <title>Chat application</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script>
        var name;
       var socket = io.connect("http://localhost:3000");
       
        $(function () {
            
            name = window.prompt("enter your name");
            var d = new Date();
		var minute = d.getMinutes()<10?("0"+d.getMinutes()):d.getMinutes();
		var second= d.getSeconds()<10?("0"+d.getSeconds()):d.getSeconds();
 		var hour = d.getHours();
		var date = d.getDate();
		var month = d.getMonth()+1;
		var year = d.getFullYear();
		var postedAt = year + '-' + (month < 10 ? '0' + month : month) + '-' + (date < 10 ? '0' + date : date)+"   "+hour+":"+minute+":"+second ;
            
            $("#send").click(function () {
                 socket.emit("clientMsg", {
                    "name": name,
                    "msg":$("#msg").val(),
		    "postedAt":postedAt
                });
            });
		socket.on("serverMsg", function (data) {
                //Append the message from the server to the message box
                $("#msgBox").append("<strong>" + data.name + "</strong>: " + data.msg + "                                                     "+ data.postedAt + "<br>");
            });

            

            
        });
    </script>
<h1 align="center"> Chat Application </h1>
</head>
<body bgcolor="#E6E6FA">        
    <div id="msgBox" style="height: 400px; width: 1200px; border:5px solid black;">

    </div>
    
    <br><br>
   <label for="message" > Enter your Message :</label> <br> <br>
    <input type="text" id="msg" style="height:30px;width:1200px" />
    <!--Send: A button to send the message to others-->
    <input type="submit" id="send" value="send" />
    <br/>
    
    <div id="status"></div>
</body>

</html>
            
